{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaabi\\\\OneDrive\\\\\\xC1rea de Trabalho\\\\Juntaaibank\\\\src\\\\AppRouter.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport ForgotPassword from './pages/ForgotPassword';\nimport Dashboard from './pages/Dashboard';\nimport AdminDashboard from './pages/AdminDashboard';\n// Remove this import if TestComponent doesn't exist yet\n// import TestComponent from './components/TestComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AppRouter() {\n  _s();\n  // Limpar tokens ao iniciar a aplicação\n  useEffect(() => {\n    const path = window.location.pathname;\n    console.log('[AppRouter] Rota atual:', path);\n\n    // Se estiver em uma rota pública, remover tokens\n    if (path === '/' || path === '/register' || path === '/forgot-password') {\n      console.log('[AppRouter] Removendo tokens em rota pública');\n      localStorage.removeItem('userToken');\n      localStorage.removeItem('adminToken');\n    }\n  }, []);\n\n  // Função para verificar autenticação\n  const isAuthenticated = () => {\n    const hasToken = localStorage.getItem('userToken') !== null || localStorage.getItem('adminToken') !== null;\n    console.log('[AppRouter] isAuthenticated:', hasToken);\n    return hasToken;\n  };\n\n  // Função para verificar se é admin\n  const isAdmin = () => {\n    const isAdmin = localStorage.getItem('adminToken') !== null;\n    console.log('[AppRouter] isAdmin:', isAdmin);\n    return isAdmin;\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/register\",\n        element: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 42\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/forgot-password\",\n        element: /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dashboard\",\n        element: isAuthenticated() ? /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 40\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin/dashboard\",\n        element: isAuthenticated() && isAdmin() ? /*#__PURE__*/_jsxDEV(AdminDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n          to: isAuthenticated() ? \"/dashboard\" : \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(AppRouter, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = AppRouter;\nexport default AppRouter;\nvar _c;\n$RefreshReg$(_c, \"AppRouter\");","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Register","ForgotPassword","Dashboard","AdminDashboard","jsxDEV","_jsxDEV","AppRouter","_s","path","window","location","pathname","console","log","localStorage","removeItem","isAuthenticated","hasToken","getItem","isAdmin","children","element","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["C:/Users/gaabi/OneDrive/Área de Trabalho/Juntaaibank/src/AppRouter.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport Login from './pages/Login';\r\nimport Register from './pages/Register';\r\nimport ForgotPassword from './pages/ForgotPassword';\r\nimport Dashboard from './pages/Dashboard';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\n// Remove this import if TestComponent doesn't exist yet\r\n// import TestComponent from './components/TestComponent';\r\n\r\nfunction AppRouter() {\r\n  // Limpar tokens ao iniciar a aplicação\r\n  useEffect(() => {\r\n    const path = window.location.pathname;\r\n    console.log('[AppRouter] Rota atual:', path);\r\n    \r\n    // Se estiver em uma rota pública, remover tokens\r\n    if (path === '/' || path === '/register' || path === '/forgot-password') {\r\n      console.log('[AppRouter] Removendo tokens em rota pública');\r\n      localStorage.removeItem('userToken');\r\n      localStorage.removeItem('adminToken');\r\n    }\r\n  }, []);\r\n\r\n  // Função para verificar autenticação\r\n  const isAuthenticated = () => {\r\n    const hasToken = localStorage.getItem('userToken') !== null || \r\n                    localStorage.getItem('adminToken') !== null;\r\n    console.log('[AppRouter] isAuthenticated:', hasToken);\r\n    return hasToken;\r\n  };\r\n\r\n  // Função para verificar se é admin\r\n  const isAdmin = () => {\r\n    const isAdmin = localStorage.getItem('adminToken') !== null;\r\n    console.log('[AppRouter] isAdmin:', isAdmin);\r\n    return isAdmin;\r\n  };\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        {/* Rotas públicas */}\r\n        <Route path=\"/\" element={<Login />} />\r\n        <Route path=\"/register\" element={<Register />} />\r\n        <Route path=\"/forgot-password\" element={<ForgotPassword />} />\r\n        \r\n        {/* Rotas protegidas */}\r\n        <Route \r\n          path=\"/dashboard\" \r\n          element={isAuthenticated() ? <Dashboard /> : <Navigate to=\"/\" />} \r\n        />\r\n        \r\n        <Route \r\n          path=\"/admin/dashboard\" \r\n          element={\r\n            isAuthenticated() && isAdmin() \r\n              ? <AdminDashboard /> \r\n              : <Navigate to={isAuthenticated() ? \"/dashboard\" : \"/\"} />\r\n          } \r\n        />\r\n        \r\n        {/* Redirecionar rotas desconhecidas */}\r\n        <Route path=\"*\" element={<Navigate to=\"/\" />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default AppRouter;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}